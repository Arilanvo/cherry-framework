!function(e){"use strict";CherryJsCore.utilites.namespace("CherryAjaxHandler"),CherryJsCore.CherryAjaxHandler=function(a){var t=this,n={handlerId:"",cache:!1,processData:!0,url:"",beforeSendCallback:function(){},errorCallback:function(){},successCallback:function(){},completeCallback:function(){}};return a&&e.extend(n,a),window[n.handlerId]?(t.handlerSettings=window[n.handlerId]||{},t.ajaxRequest=null,t.ajaxProcessing=!1,t.data={action:t.handlerSettings.action,nonce:t.handlerSettings.nonce},""===n.url&&(n.url="false"===t.handlerSettings.public?ajaxurl:cherryHandlerAjaxUrl.ajax_url),t.send=function(){t.ajaxProcessing&&CherryJsCore.cherryHandlerUtils.noticeCreate("error-notice",t.handlerSettings.sys_messages.wait_processing),t.ajaxProcessing=!0,t.ajaxRequest=jQuery.ajax({type:t.handlerSettings.type.toUpperCase(),url:n.url,data:t.data,cache:n.cache,dataType:t.handlerSettings.data_type,processData:n.processData,beforeSend:function(e,a){null!==t.ajaxRequest&&t.ajaxRequest.abort(),n.beforeSendCallback&&"function"==typeof n.beforeSendCallback&&n.beforeSendCallback(e,a)},error:function(e,a,t){n.errorCallback&&"function"==typeof n.errorCallback&&n.errorCallback(e,a,t)},success:function(e,a,r){t.ajaxProcessing=!1,n.successCallback&&"function"==typeof n.successCallback&&n.successCallback(e,a,r),CherryJsCore.cherryHandlerUtils.noticeCreate(e.type,e.message)},complete:function(e,a){n.completeCallback&&"function"==typeof n.completeCallback&&n.completeCallback(e,a)}})},t.sendData=function(e){var e=e||{};t.data={action:t.handlerSettings.action,nonce:t.handlerSettings.nonce,data:e},t.send()},void(t.sendFormData=function(a){var n,r=e(a);n=CherryJsCore.cherryHandlerUtils.serializeObject(r),t.sendData(n)})):(window.console&&console.warn("Handler id not found"),!1)},CherryJsCore.utilites.namespace("cherryHandlerUtils"),CherryJsCore.cherryHandlerUtils={noticeCreate:function(a,t){function n(){var a=100;e(".cherry-handler-notice").each(function(){e(this).css({top:a}),a+=e(this).outerHeight(!0)})}var r,s,c=0;return t?(r=e('<div class="cherry-handler-notice '+a+'"><span class="dashicons"></span><div class="inner">'+t+"</div></div>"),e("body").prepend(r),n(),c=-1*(r.outerWidth(!0)+10),r.css({right:c}),s=setTimeout(function(){r.css({right:10}).addClass("show-state")},100),s=setTimeout(function(){c=-1*(r.outerWidth(!0)+10),r.css({right:c}).removeClass("show-state")},4e3),void(s=setTimeout(function(){r.remove(),clearTimeout(s)},4500))):!1},serializeObject:function(a){var t=this,n={},r={},s={validate:/^[a-zA-Z][a-zA-Z0-9_-]*(?:\[(?:\d*|[a-zA-Z0-9_-]+)\])*$/,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_-]+$/};return this.build=function(e,a,t){return e[a]=t,e},this.push_counter=function(e){return void 0===r[e]&&(r[e]=0),r[e]++},e.each(a.serializeArray(),function(){var a,r,c,i;if(s.validate.test(this.name)){for(r=this.name.match(s.key),c=this.value,i=this.name;void 0!==(a=r.pop());)i=i.replace(new RegExp("\\["+a+"\\]$"),""),a.match(s.push)?c=t.build([],t.push_counter(i),c):a.match(s.fixed)?c=t.build([],a,c):a.match(s.named)&&(c=t.build({},a,c));n=e.extend(!0,n,c)}}),n}},e(document).trigger("CherryHandlerInit")}(jQuery);