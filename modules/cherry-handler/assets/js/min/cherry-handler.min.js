!function(e){"use strict";CherryJsCore.utilites.namespace("CherryAjaxHandler"),CherryJsCore.CherryAjaxHandler=function(a){var n={handlerId:"",ifModified:!1,cache:!1,processData:!0,url:"",beforeSendCallback:function(){},errorCallback:function(){},successCallback:function(){},completeCallback:function(){}},r=this;return a&&e.extend(n,a),window[n.handlerId]?(r.handlerSettings=window[n.handlerId]||{},r.ajaxRequest=null,r.ajaxProcessing=!1,r.data={action:r.handlerSettings.action,nonce:r.handlerSettings.nonce},""===n.url&&(n.url="false"===r.handlerSettings.public?ajaxurl:cherryHandlerAjaxUrl.ajax_url),r.send=function(){r.ajaxProcessing=!0,r.ajaxRequest=jQuery.ajax({type:r.handlerSettings.type.toUpperCase(),url:n.url,data:r.data,cache:n.cache,dataType:r.handlerSettings.data_type,processData:n.processData,beforeSend:function(e,a){null!==r.ajaxRequest&&r.ajaxRequest.abort(),n.beforeSendCallback&&"function"==typeof n.beforeSendCallback&&n.beforeSendCallback(e,a)},error:function(e,a,r){n.errorCallback&&"function"==typeof n.errorCallback&&n.errorCallback(e,a,r)},success:function(e,a,t){r.ajaxProcessing=!1,n.successCallback&&"function"==typeof n.successCallback&&n.successCallback(e,a,t),CherryJsCore.cherryHandlerUtils.noticeCreate(e.type,e.message)},complete:function(e,a){n.completeCallback&&"function"==typeof n.completeCallback&&n.completeCallback(e,a)}})},r.sendData=function(e){var e=e||{};r.data={action:r.handlerSettings.action,nonce:r.handlerSettings.nonce,data:e},r.send()},void(r.sendFormData=function(a){var n,t=e(a);n=CherryJsCore.cherryHandlerUtils.serializeObject(t),r.sendData(n)})):(CherryJsCore.cherryHandlerUtils.consoleMessage("warn","Handler id not found"),!1)},CherryJsCore.utilites.namespace("cherryHandlerUtils"),CherryJsCore.cherryHandlerUtils={noticeCreate:function(a,n){function r(){var a=100;e(".cherry-handler-notice").each(function(){e(this).css({top:a}),a+=e(this).outerHeight(!0)})}var t,o=e('<div class="cherry-handler-notice '+a+'"><span class="dashicons"></span><div class="inner">'+n+"</div></div>"),s=0;e("body").prepend(o),r(),s=-1*(o.outerWidth(!0)+10),o.css({right:s}),t=setTimeout(function(){o.css({right:10}).addClass("show-state")},100),t=setTimeout(function(){s=-1*(o.outerWidth(!0)+10),o.css({right:s}).removeClass("show-state")},4e3),t=setTimeout(function(){o.remove(),clearTimeout(t)},4500)},consoleMessage:function(e,a){var e=e||"log",a=a||"BlaBla";if(window.console)switch(e){case"log":window.console.log(a);break;case"warn":window.console.warn(a);break;case"info":window.console.info(a);break;case"error":window.console.error(a);break;default:window.console.log(a)}},serializeObject:function(a){var n=this,r={},t={},o={validate:/^[a-zA-Z][a-zA-Z0-9_-]*(?:\[(?:\d*|[a-zA-Z0-9_-]+)\])*$/,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_-]+$/};return this.build=function(e,a,n){return e[a]=n,e},this.push_counter=function(e){return void 0===t[e]&&(t[e]=0),t[e]++},e.each(a.serializeArray(),function(){if(o.validate.test(this.name)){for(var a,t=this.name.match(o.key),s=this.value,c=this.name;void 0!==(a=t.pop());)c=c.replace(new RegExp("\\["+a+"\\]$"),""),a.match(o.push)?s=n.build([],n.push_counter(c),s):a.match(o.fixed)?s=n.build([],a,s):a.match(o.named)&&(s=n.build({},a,s));r=e.extend(!0,r,s)}}),r}},e(document).trigger("CherryHandlerInit")}(jQuery);